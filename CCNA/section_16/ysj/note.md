## Section 16 정리

#### GPT 요약

https://chatgpt.com/share/67205e57-bcfc-8008-8e0e-ba572645db4b 

#### 정리

- 라우터의 역할 
    1. 패킷을 보내는 최적의 경로을 결정하는 것.
    2. 네트워크로 트래픽을 전송하는 것.

- 라우터는 라우터 표를 보고 라우팅을 결정한다.
    - 각 라우터는 연결된 라우터만 볼 수 있으므로, 특정 경로를 위해서 전달해야 하는 라우터 정보를 저장해놓는다.
    - e.g. `r1 <-> r2 <-> r3` r3 입장에서 r1으로 보내려면 r2로 보내야 하므로, r3는 r1가 목적지인 경우 r2로 보내도록 표가 작성되어야 한다.
    - 라우터 표에는 효율적인 경로가 지정된다. (가능한 모든 경로가 아닌)
- [show ip route 명세](https://www.cisco.com/E-Learning/bulk/public/tac/cim/cib/using_cisco_ios_software/cmdrefs/show_ip_route.htm)
    - `ip address [라우터의 인터페이스의 식별 IP] [서브넷 마스크]`
    - `ip route [목적지 네트워크] [서브넷 마스크] [다음 홉 IP 주소]`
- 경로 유형 - Cisco 장치 기준
    - 로컬: 다른 라우터를 통할 필요 없이 본인이 처리 가능한 서브넷
    - 연결된 경로: 실제로 연결된 기기의 IP
    - 정적: 네트워크 관리자가 직접 정한 서브넷 - from, to가 명시되는 형식
    - 동적: 다음 섹션에서 다룸.
    - 그 외
- 경로 요약, 기본 경로, 부하 분산
    - 요약 경로(더 넒은 범위의 서브넷)를 사용해 관리 오버헤드와 라우터의 메모리를 아낄 수 있음. 중복의 경우 구체적인 경로를 선택하는 Longest Prefix Match가 발생한다. 
    - 기본 경로: 따로 지정되지 않은 경우, 전달되는 경로
        - 기본 게이트웨이로 나머지 트래픽을 보낼 때 유용하다. 
    - 기본 게이트웨이: 네트워크 트래픽을 처리하는 라우터
        - 할당받은 IP로 나머지 트래픽을 보내거나 인터넷으로부터 트래픽을 받는다. 
        - NAT에서 주로 사용하나, NAT에서만 사용되는 건 아님.
    - 부하 균형(Load Balancing): 전송 가능한 경로가 2개 이상인 경우, 트래픽을 나눠서 보낸다. (그러나 해싱을 사용해서 전송, 목적 호스트가 동일한 경우 연결이 끊이지 않도록한다.)
- 프로코콜
    - ping: 두 호스트 간의 연결이 정상임을 확인. 서로 패킷을 주고 받을 수 있는 (양방향) 상태 임을 확인.
        - ARP 등의 이유로 종종 실패할수도 있음.
    - trace: 패킷이 전달되는 라우터 간의 연결 경로를 확인할 수 있음.
    - Cisco IOS용으로 더 특화된 기능을 제공하는 듯?

