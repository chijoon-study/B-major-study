## Section 32 정리

## 251. IT 보안 위협의 현주소

### 1. **기본 용어**
- **위협**: IT 자산에 피해를 줄 가능성.
- **취약점**: 시스템의 보안 약점.
- **익스플로잇**: 취약점을 이용한 공격.
- **위험**: 공격이 성공할 가능성.
- **완화**: 공격 가능성과 심각성을 줄이기 위한 조치.

### 2. **멀웨어의 유형**
- **바이러스**: 인간의 행동을 통해 전파되는 악성 코드.
- **웜**: 인간의 개입 없이 스스로 전파되는 악성 코드.
- **트로이 목마**: 유용한 소프트웨어로 위장해 시스템에 침투하는 악성 코드.
- **랜섬웨어**: 데이터를 암호화하고 금전을 요구하는 악성 코드.

### 3. **해킹 도구**
- **암호 해독 도구**: 자동으로 암호를 추측.
- **스니퍼**: 네트워크 데이터를 감시.
- **핑 스위퍼**: 시스템의 활성 여부 확인.
- **포트 및 취약점 스캐너**: 취약점을 찾기 위해 시스템 조사.

### 4. **공격자의 유형**
- **스크립트 키디**: 이미 만들어진 해킹 도구를 사용하는 비숙련 공격자.
- **표적 공격자**: 특정 개인이나 조직을 대상으로 체계적으로 공격을 수행하는 숙련된 공격자.

### 5. **표적 공격의 단계**
1. **외부 정찰**: 시스템에 대한 정보를 수집.
2. **초기 침투**: 접근 가능한 시스템 공격.
3. **권한 확대**: 더 높은 권한을 획득.
4. **내부 정찰**: 내부 시스템 탐색.
5. **최종 공격**: 목표 시스템에 도달하고 최대한 피해를 유발.

## 252. 해커가 사용하는 주요 공격 방법과 이에 대한 설명

1. **정찰 (Reconnaissance)**  
   - 표적 대상에 대한 정보를 수집하며, 눈에 띄지 않게 시작.  
   - **사용하는 방법**:
     - **Whois 데이터베이스**: 도메인 소유자 정보 확인.
     - **공개 전화번호부 및 구인 정보**: 조직 구조, 기술 스택 파악.  
   - **예시**: 구인 광고에서 기술 스택 노출 → Cisco CallManager 사용 파악.  

2. **소셜 엔지니어링**  
   - 사람을 속여 정보를 빼내는 공격.  
   - **기법**:
     - **전화 사기**: IT 관리자라고 속여 비밀번호 변경 유도.  
     - **피싱**: 가짜 웹사이트로 사용자의 계정 정보 유출.  
   - **예시**: PayPal 사칭 이메일로 사용자 이름, 비밀번호 탈취.  

3. **데이터 유출 (Data Breach)**  
   - 조직 외부로 민감 정보가 유출되는 사건.  
   - **유출 경로**:
     - 해커의 시스템 침입 (예: 신용카드 정보 탈취).  
     - 내부자 실수 (예: 암호화되지 않은 USB 분실).  
   - **결과**: 정보 협박 또는 추가 공격 준비.  

4. **서비스 거부 공격 (DoS/DDoS)**  
   - **DoS**: 서버를 트래픽으로 마비시키는 공격.  
     - TCP SYN 플러드: 연결 요청만 반복해 리소스 소모.  
   - **DDoS**: 봇넷을 활용해 다수의 좀비 호스트에서 공격.  
     - 방어 난이도가 더 높음.  
     - Note: 터널링을 사용해서 봇넷에 접근한다고 함.
        - `해커 → [암호화된 터널] → C&C 서버 → [암호화된 터널] → 감염된 컴퓨터들`
        - 감염된 곳에서 악성 프로그램이 터널링을 사용해서 아웃바운드 트래픽으로 연결되어 C&C에 의해 조종되기 때문에 방화벽이 뚤림.

5. **스푸핑 (Spoofing)**  
   - 신원을 가장해 트래픽을 위장.  
   - **유형**:
     - **IP 스푸핑**: 공격자의 IP를 피해자로 위장.  
     - **MAC 주소 스푸핑**: 네트워크 혼란 유발.  
     - **악성 DHCP 서버**: 악성 IP 할당.  

6. **중간자 공격 (Man-in-the-Middle, MITM)**  
   - 공격자가 두 호스트 사이의 통신을 가로채고 조작.  
   - **기법**:
     - ARP 스푸핑: 네트워크 트래픽 탈취.  
   - **결과**: 데이터 유출 및 시스템 접근.  

7. **암호 공격 (Password Attacks)**  
   - **방법**:
     - 사전 공격: 사전 단어로 암호 추측.  
     - 무차별 대입 공격: 모든 조합 시도.  
   - **목표**: 사용자의 계정 정보 확보.  

8. **버퍼 오버플로 (Buffer Overflow)**  
   - 잘못된 데이터 입력으로 시스템을 손상시키는 공격.  
   - **결과**: 시스템 충돌, 관리자 권한 탈취.  

9. **패킷 스니퍼 (Packet Sniffer)**  
   - 네트워크에서 전송되는 데이터를 도청.  
   - **결과**: 암호화되지 않은 민감 정보 탈취, 추가 공격 준비.  

## 253-254. IDS와 IPS, 방화벽 vs 패킷 필터

---

#### **1. IDS (Intrusion Detection System)**
- **기능**: 네트워크의 트래픽을 감시하고 공격 의심 사항을 **탐지**하여 관리자에게 알림.
- **작동 방식**:  
  - 트래픽 사본을 통해 분석 (미러링 사용).
  - 시그니처 기반 탐지(알려진 공격 패턴)와 변칙 탐지(비정상 트래픽 활동 감지) 지원.
  - 직접 트래픽 차단은 불가능하지만, 방화벽과 협력해 공격 차단 가능.
- **위치**: 네트워크 흐름 옆에 위치하여 트래픽 사본을 분석.

---

#### **2. IPS (Intrusion Prevention System)**
- **기능**: 트래픽을 실시간으로 **분석** 및 **차단**하여 공격을 방지.
- **작동 방식**:
  - 인라인으로 트래픽을 거쳐가며 공격 감지 시 즉시 차단.
  - 시그니처와 변칙 탐지 모두 활용.
- **위치**: 네트워크 흐름 **인라인**에 위치하여 트래픽이 직접 지나감.
- **문제점**:  
  - 병목 현상 발생 가능 (트래픽 과부하 시 처리 속도 저하).  
  - 클러스터링을 통해 처리량 확장 가능.

---

#### **3. 방화벽**
- **기능**: 네트워크 트래픽을 **허용**하거나 **차단**.
- **작동 방식**:  
  - 규칙 기반으로 작동 (IP, 포트, 프로토콜 기반).  
  - 스테이트풀 방화벽은 연결 상태를 추적하여 반환 트래픽 허용.
- **특징**:  
  - 내부 네트워크와 인터넷 간 경계를 보호.
  - DMZ(비무장지대) 설정 가능 (민감한 서버 보호).
  - 최신 방화벽은 IPS 기능 포함 (차세대 방화벽).
- Note:
  - 여기서 말하는 건 하드웨어 방화벽으로 실제 물리적 기기임.
  - 모든 라우터 사이사이에 끼우기에는 비싸기도 하고, 기존 구조를 변경하기 때문에, ACL과 함께 사용하여 보안을 향샹시킴.

---

#### **4. IDS, IPS, 방화벽의 협력**
- IDS는 방화벽과 함께 사용하여 탐지와 차단 기능을 분리함.
- IPS는 방화벽과 결합하여 실시간 방어력을 높임.
- 차세대 방화벽은 IPS, IDS 기능 통합 제공.
- 네트워크의 **다계층 보안**을 위해 ACL과 방화벽을 결합:
  - 외부 트래픽 필터링에 ACL 사용.
  - 내부 및 민감 영역 보안에는 IPS와 방화벽 조합.

---

#### **5. 보안 토폴로지의 예시**
- **인터넷 엣지**: 외부와 내부 네트워크 경계에 방화벽 배치.
- **DMZ**: 외부 트래픽과 내부 트래픽을 분리하여 민감한 서버 보호.
- **내부 네트워크**:
  - 부서 간 트래픽 통제 (스위치 및 방화벽 사용).
  - 내부 서버 보호를 위해 IPS 추가 배치.

---

#### **6. ACL vs. 방화벽**
- **ACL (Access Control List)**:
  - 규칙에 따라 트래픽을 허용하거나 차단.
  - 스테이트풀 기능 없음 (연결 상태 추적 불가).
  - 적절한 양방향 설정 필요.
- **스테이트풀 방화벽**:
  - 반환 트래픽 자동 허용.
  - 보다 강력하고 안전한 연결 제어 가능.

- Note: 방화벽은 

#### 결론
IDS, IPS, 방화벽은 서로 보완적으로 작동하며, 네트워크 보안을 다계층으로 강화하는 데 필수적입니다.  
- **필수**: 방화벽은 인터넷 연결 시 기본적인 방어 장치.  
- **선택적**: IPS 및 ACL은 환경에 따라 추가적으로 활용 가능.  
- 최신 기술을 통해 IPS와 방화벽이 통합된 차세대 보안 장비를 배치하면 관리 효율성을 높이고 더 강력한 보호를 제공합니다.

### 255-256. 암호화 기법, TLS 전송층 보안
1. **확실성 (Authenticity)**  
   - 데이터가 정말 신뢰할 수 있는 출처로부터 왔음을 증명.  
2. **기밀성 (Confidentiality)**  
   - 데이터가 전송 중에도 프라이버시와 비밀이 유지됨.  
3. **일관성 (Integrity)**  
   - 데이터가 전송 중에 변경되지 않았음을 보장.  
4. **부인 방지 (Non-repudiation)**  
   - 데이터를 보낸 사람이 나중에 자신이 보냈음을 부인할 수 없도록 보장.  

#### 암호화 방식  
1. **대칭 암호화 기법 (Symmetric Encryption)**  
   - 발신자와 수신자가 동일한 키를 사용하여 데이터를 암호화 및 복호화.  
2. **비대칭 암호화 기법 (Asymmetric Encryption)**  
   - 공개 키 (*Public Key*)와 개인 키 (*Private Key*)의 쌍을 사용하여 데이터를 암호화 및 복호화.  ---

#### 대칭 암호화 알고리즘  
1. **DES** (Data Encryption Standard)  
2. **3DES** (Triple Data Encryption Standard)  
3. **AES** (Advanced Encryption Standard)  
4. **SEAL**  

(DES와 3DES는 보안 문제로 잘 사용되지 않음).

#### 비대칭 암호화 알고리즘  
1. **RSA** (Rivest-Shamir-Adleman)  
2. **ECDSA** (Elliptic Curve Digital Signature Algorithm)  

#### HMAC (Hash-based Message Authentication Code)  
- 데이터를 해시 값으로 변환하여 데이터 무결성을 보장.  

#### 키 배포 문제 (Key Distribution Problem)  
- 대칭 암호화에서 양측이 안전하게 키를 공유하는 데 발생하는 문제.  

#### 공인 키 인프라 (Public Key Infrastructure, PKI)  
- 신뢰할 수 있는 인증 기관을 통해 공개 키를 안전하게 공유.  

#### 전송 계층 보안 (Transport Layer Security, TLS)  
- 네트워크 통신을 보호하는 보안 프로토콜. SSL의 후속 기술.  

### **인터넷 암호화 프로토콜: TLS**
1. **TLS (Transport Layer Security)**:
   - SSL의 후속 프로토콜로 안전한 통신 보장.
   - 예시: HTTPS를 통한 보안 웹 브라우징.

2. **TLS 작동 과정**:
   - Amazon과 같은 웹사이트는 **공인 인증 기관(CA)**에서 인증서를 발급받음 (예: Verisign).
   - 인증서에는 공개 키가 포함되며, CA의 비밀키로 서명됨.
   - 브라우저는 CA의 공개 키로 인증서를 검증해 신뢰성 확인.

3. **대칭 키 교환**:
   - 비대칭 암호화를 통해 대칭 공유 키를 안전하게 교환.
   - 이후 데이터 전송에는 대칭 암호화를 사용하여 속도를 높임.

4. **피싱 방지**:
   - 인증서 검증은 인증 기관(CA)을 신뢰하는 브라우저에 의해 이루어짐.
   - 유효한 인증서라도 가짜 사이트라면 URL이나 연결 상태(HTTPS)를 확인해야 함.

## 257-258. 지역 간 VPN 가상 사설 네트워크, 원격 액세스 VPN 가상 사설 네트워크

1. Site-to-Site VPN
- 두 사이트 간 암호화된 통신 제공
- 주로 IPsec 사용
- DES, 3DES, AES 등의 대칭 암호화 알고리즘 활용
- 일반적으로 방화벽이나 라우터에서 터널 종료
- 인증 방식: 사전 공유키 또는 인증서

구성 요소:
- ISAKMP/IKE: 초기 인증 및 키 교환 담당
- AH: 무결성, 인증 제공
- ESP: 기밀성, 무결성, 인증 제공 (더 보편적으로 사용)
- 터널/전송 모드: 패킷 암호화 방식 결정

2. Client-to-Site VPN (원격 액세스)
- Cisco AnyConnect 사용 (ASA 방화벽에서 종료)
- TLS/SSL 기반 암호화 
- 두 가지 터널링 방식:
  - 스플릿 터널링: 회사 트래픽만 VPN 통과
  - 풀 터널링: 모든 트래픽이 VPN 통과 (중앙 집중식 보안 관리 가능)

주요 구성사항:
- 관심 트래픽 정의 (ACL 사용)
- ISAKMP/IKE 설정
- IPsec 보안 정책 구성
- NAT 예외 설정 필요

## 259. 위협 방어 솔루션

### 멀웨어 방어
- 시그니처 기반 탐지: 기존 바이러스의 특징적인 패턴을 데이터베이스와 대조하여 탐지
- 휴리스틱 탐지: 의심스러운 프로그램 행동을 실시간으로 분석하여 새로운 위협 감지
- IPS: 네트워크 트래픽을 실시간 모니터링하여 악성 활동 차단
- Cisco WSA: 웹 기반 위협으로부터 네트워크 보호
- Cisco ESA: 이메일을 통한 위협 차단 및 필터링

### 소셜 엔지니어링 및 정찰 방어
- 보안 인식 교육: 직원들에게 사회공학적 공격 식별법과 대응 방법 교육
- 보안 정책: 정보 공유와 접근에 대한 명확한 가이드라인 수립
- 기술적 대응: 정찰 활동 감지 및 차단을 위한 모니터링 시스템 구축

### DDoS 공격 방어 
- IPS/방화벽: 비정상적인 트래픽 패턴 감지 및 차단
- 안티-DDoS 서비스: 대규모 DDoS 공격에 대한 클라우드 기반 방어
- 분산 배치: 서비스를 여러 지역에 분산하여 가용성 확보

### 스푸핑 및 중간자 공격 방어
- uRPF: 소스 IP 주소가 위조된 패킷을 필터링하여 IP 스푸핑 방지
- 랜덤 TCP 시퀀스: TCP 연결 하이재킹 방지를 위한 무작위 시퀀스 번호 사용  
- DAI: ARP 스푸핑 공격을 탐지하고 차단하는 스위치 보안 기능

### 비밀번호 공격 방어
- 복잡한 비밀번호: 길이, 특수문자 등 강력한 비밀번호 정책 적용
- MFA: 비밀번호 외 추가 인증 요소 도입으로 보안 강화
- 보안 교육: 피싱 등 비밀번호 탈취 시도에 대한 인식 제고

### 버퍼 오버플로우/패킷 스니핑 방어
- 소프트웨어 패치: 버퍼 오버플로우 취약점에 대한 정기적인 업데이트
- 네트워크 보안: 암호화 및 필터링으로 패킷 스니핑 방지

### 모의 해킹
- 내부 테스트: 내부 시스템 및 네트워크의 취약점 점검
- 외부 테스트: 외부에서 접근 가능한 서비스의 보안성 평가

## 추가

- VPN은 터널링 기술을 사용해서 제 3자가 통신하는 데이터를 볼 수 없도록 캡슐화한다.
    - 터널링: 공용 네트워크(인터넷)를 통해 가상의 전용 통로를 만드는 기술
    - 따라서 무슨 데이터를 보내는지, 목적지(IP)인지, 무슨 프로토콜을 사용하는지도 암호화되어 알 수 없음.

대부분 정확하나, 몇 가지 수정이 필요합니다:

TLS(HTTPS) 작동 방식:
1. 인증서 검증
- 서버: 비밀키 보유, 인증서(공개키 포함)는 CA의 비밀키로 서명
- 브라우저: CA 공개키로 인증서 검증 (신뢰할 수 있는 CA 목록 보유)
2. TLS 연결 과정 
- 클라이언트: Client Hello (지원하는 암호화 방식, 랜덤 문자열 전송)
- 서버: Server Hello (선택된 암호화 방식, 랜덤 문자열, 인증서 전송)
- 클라이언트: 인증서 검증 후, Pre-master secret 생성하여 서버 공개키로 암호화 전송
    - 인증서 검증은 CA에게 요청을 보내서 이루어짐.
- 양측: 교환된 정보로 동일한 대칭키(세션키) 생성
3. 데이터 전송
- 생성된 대칭키로 이후 모든 통신 암호화
- 각 세션마다 새로운 대칭키 사용

공격에서 안전한 이유:
1. **피싱 공격 (Phishing)**  
   - **공격 방법**: 가짜 웹사이트로 유인, 인증서를 보내 사용자를 속임.  
   - **방어 방법**: 인증서의 도메인 정보 불일치 시 브라우저 경고.
2. **인증서 위조 (Fake Certificate)**  
   - **공격 방법**: 유효한 인증서를 얻어 가짜 웹사이트로 유인.  
   - **방어 방법**: 인증서의 도메인 정보가 일치하지 않으면 경고.
3. **자체 인증 기관 공격 (Self-Signed Certificate)**  
   - **공격 방법**: 자체 인증 기관으로 가짜 인증서 발급.  
   - **방어 방법**: 브라우저는 공인 인증 기관 인증서만 신뢰.
4. **중간자 공격 (Man-in-the-Middle)**  
   - **공격 방법**: 사용자와 서버 사이에 가로채기.  
   - **방어 방법**: TLS 인증서와 암호화된 키 교환으로 데이터 보호.
5. **인증서 탈취 (Certificate Theft)**  
   - **공격 방법**: 인증서 탈취 후 악용.  
   - **방어 방법**: 비밀키는 서버만 가지고 있어 탈취해도 무효.
6. **DNS 스푸핑 (DNS Spoofing)**  
   - **공격 방법**: 가짜 웹사이트로 유도.  
   - **방어 방법**: 인증서 검증을 통해 실제 서버와 연결 확인.