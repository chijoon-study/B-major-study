(사담)이전 챕터에서 설명한 DBMS부터 느낀거지만 첫 기초부터 점점 발전 해나가는 방식으로 설명해줘서 되게 이해가 잘 되는거 같다.  
DBMS에선 DB의 가장 기초인 데이터 저장, 찾아서 반환을 가장 단순하게 구현한 쉘스크립트부터 시작하고  
이번 챕터의 초장인 format부분에선 json을 단순히 binary로 표현한 것 부터 시작해, 좀더 최적화된 방법, thrift와 protobuf, 그리고 마지막으로 avro.  
어떤 의도에서 이런 기술들이 나오게 됐고 최근 기술들은 어떤 형태로 발전돼 왔는지 설명해주는 점이 참 좋은거 같다.

## Format
한 process에선 데이터나 객체의 전달이 쉽다.  
해당 process가 메모리 관리를 통해 바로 해당 데이터를 사용할 수 있다.  
하지만 다른 프로세스로 넘기려 할 경우 해당 데이터가 어디에 어떻게 저장 돼 있는지 그대로 전달하면 아무 의미가 없어진다.  
간단히 생각하면 메모리 주소 4000번에 데이터가 있었다고 다른 프로세스에서도 4000번에 데이터를 저장하게 되면 기존에 있던 정보를 덮어버릴 수 있기 때문이다.  

때문에 다른 프로세스에서도 데이터를 사용할 수 있게 해주는 여러 형태가 있고 책에서는 아래 순서로 설명한다.  
- language-specific encoding(e.g 파이썬에서 쓰이는 pickle)
- JSON, XML, CSV
- JSONBinary
- Thrift(from Meta), Protobuf(from Google)
- Avro

최신 형태로 올 수록 최대한 데이터 크기를 줄이기위해 당연히 인코딩 과정에서 여러 정보를 손실하고 스키마를 따로 작성해서 읽을때 스키마를 참고해 기존 데이터를 복구하는 식이다.  
여기서 의문은 데이터를 읽을때 결국엔 한글자한글자 읽을텐데 인코딩된 데이터에 있는 정보가 적을 수록 읽는데 시간이 오래 걸리는거 아닌가?  
극단적으로 스키마가 있는 형태와 없는 형태를 비교해서 단순 json을 이진수로 인코딩 했을 경우 읽을때는 한바이트한바이트 읽고 그대로 json을 복구하면 된다.  
하지만 스키마가 있는 형태의 경우 array형태를 읽는다할때 이번 바이트는 end of array를 나타내는지 아니면 새로운 value를 나타내는지 판단해야하는 등의 추가 오버헤드가 필요할 것이라 생각되는데,  
물론 엄청 속도에 엄청 치명적인 차이가 있을거라곤 생각하지 않지만 어느정도 차이가 있지 않을까? 싶다.


## RPC
책에서 RPC관련해 이야기가 나와서 공부를 좀 해봤다.  
하지만 공부를 해도 RPC의 존재 이유를 모르겠다;  
핵심적인게 서버의 함수를 클라에서 직접 호출하는 것처럼 해주는거, REST는 텍스트 형태로 통신하는거에 비해 이진수로 인코딩해 좀더 효율적이라는거 같은데  
REST에서도 JSON으로 통신하니까 JSON을 이진수로 변환해서 통신하면 되는거 아닌가?  
https://chatgpt.com/c/8f6c67c8-e05a-4213-bd37-89466802a290

서버에서 구현된 함수의 stub파일이 클라이언트에 있고 어떤 언어로든 해당 stub파일에 있는 함수를 실행 시키면 RPC가 내부적으로 서버에서 실행시키고 반환값은 클라이언트로 전송해주는 식인거 같은데..  
모르겠다.