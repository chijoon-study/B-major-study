## 02장: 데이터 모델과 질의 언어

(책 내용과 내 생각이 섞여 있으므로 부정확한 내용이 있을 수 있음. 따로 구분 안해서 적었음.)

### 데이터 모델 (p.27)
- **정의**
  - 데이터 모델(data model)은 데이터의 관계, 접근, 흐름에 필요한 처리 과정을 추상화한 모형으로, 소프트웨어 개발과 유지보수의 기준이 됨.
  - 간단히 말해, "데이터를 저장하고 처리하는 추상화된 구조".
  - **개발자 입장에서 일반적인 의미**
    - MQ, RDBMS, DocumentDB 등 다양한 데이터 저장 및 처리 시스템.
  - **고수준 데이터 모델**
    - 특정 서비스의 API, 비즈니스 로직을 반영한 데이터 구조. 예: RESTful API.
  - **저수준 데이터 모델**
    - 바이트코드 저장 방법, 이진 데이터의 물리적 저장 및 송수신 방법. 예: 파일 시스템의 블록 구조, 네트워크 프로토콜의 데이터 패킷 형식.

### 관계형 모델과 문서 모델 (p.28~30)
- #### **변화**: 서로 비슷해지고 있다.
  - 관계형 DB는 XML이나 JSON 지원 및 검색 기능을 제공.
  - DocumentDB는 조인, 참조(외래키 역할), 트랜잭션 기능(BASE: 완화 된 ACID)을 제공.
- #### **임피던스 불일치**
  - ORM(Object-Relational Mapping)은 임피던스 불일치 문제를 해결하기 위한 기술.
  - 결국 이런 불일치가 생기면, 한 쪽(DB나 어플리케이션 코드 중)에서 다른 기술에 의존하는 설계가 됨.

### 쓰기 스키마와 읽기 스키마 (p.40)
- **쓰기 스키마(schema-on-write)**
  - RDBMS, 스키마가 쓰는 시점에 고정됨. (비유: 정적 언어와 비슷)
- **읽기 스키마(schema-on-read)**
  - NoSQL, 스키마가 읽는 시점에 고정됨. (비유: 동적 언어와 비슷)

### 적합한 데이터 모델 선택의 중요성 (p.57)
- **저자의 생각**
  - 애플리케이션에 적합한 데이터 모델을 선택하는 작업은 매우 중요함.
- **내 생각**
  - 동의하지만, 회사나 팀에서는 적합한 데이터 모델 학습의 노력과 러닝 커브도 고려해야 함.
  - 관리형 서비스를 사용하거나, 단순 사용법 정도는 습득하는 것이 비용이 낮을 수 있지만, 문제 해결이 어려울 수 있음. 결국 문제 해결을 위해서 학습에 자원을 투자해야 함.
  - 학습 비용과 도입 시 효율성 차이의 trade-off를 잘 고려해봐야 함.

### 요약
- **현재 잘 사용되는 범용 데이터 저장 DB**
  - 관계형, 문서, 그래프(DB) - 문서, 그래프는 NoSQL.
- **NoSQL 탄생 이유**
  - RDB의 문제 해결: 엄격한 스키마, 자유로운 데이터 모델 부족, 쓰기 작업 비효율성, 대규모 데이터셋 지원 부족.
- **데이터 모델의 질의 언어(Query Languages)**
  - "~해 줘" 언어
  - 어플리케이션 내부에서 알아서 최적화해서 접근 경로를 찾음. 내부 최적화 로직이 질의 언어에 영향을 주지 않으므로 기능 개선도 쉬움. 
  - 예: SQL, 사이퍼, 스파클, MongoDB 집계 파이프라인 등.
- **데이터 모델?**
  - 맵리듀스 등.

### 데이터베이스 비교

다음은 일반적인 목적을 이야기하는 것. 특정 구현은 다를 수 있음 주의.

|  이름 | N:M, 1:N 관계 지원 |  목적 | 특징 |  스키마 |
|---|---|---|---|---|
|  RDBMS | 중간 | 비즈니스 데이터 처리(트랜잭션/배치) | 정규화(무결성, 일관성 유지), 트랜잭션 지원, 분산 환경에서 어려움, 높은 제약(스키마 엄격성) | schema-on-write |
|  DocumentDB | 낮음 | 문서 형식으로 데이터 저장 | 높은 유연성, 반정형 데이터 처리에 적합, 변경 시 중복 데이터 처리 필요 | schema-on-read |
|  GraphDB | 높음 | edge와 vertex로 관계 위주의 데이터 저장 | 복잡한 관계와 네트워크 구조 표현에 적합 | schema-on-read |

### 추가로 찾아본 내용
- **네트워크 모델**
  - 여러 관계를 가지는 방향 고정된 그래프 형태. 구조 수정 시 불편함이 많음.
  - 문법 예시: https://chatgpt.com/share/b6b960f0-1403-4149-a0b4-e395323f0dec 
  - 구조
    - https://en.wikipedia.org/wiki/Network_model
    - https://mariadb.com/kb/en/understanding-the-network-database-model/
    - https://www.geeksforgeeks.org/difference-between-network-and-relational-data-model/

- **MySQL, PostgreSQL 발음**
  - 영어 발음으로 익히면 좋을 듯.
- **맵리듀스**
  - 대규모 데이터 처리를 위한 분산 처리 모델. map(분산 노드)에 요청을 보내고 reduce에서 데이터를 처리함.
  - 처음에 이해를 못했음. 특정 구현 기술보다는 기법? 데이터 모델이더라.
    - 참고
      - https://www.youtube.com/watch?v=cvhKoniK5Uo
      - https://www.geeksforgeeks.org/mapreduce-understanding-with-real-life-example/
- **그래프 DB**
  - 복잡한 관계 표현에 적합. 
  - 토이 프로젝트에 써볼까 고민 중.
  - **트리플 그래프**: 그래프 DB 중 하나.
    - 3가지 관계를 사용하여 데이터 저장. RDF 데이터베이스로 구현 가능.
- **시멘틱 웹/트리플 그래프**
  - 시멘틱 웹: 데이터의 의미를 이해하고 연계하는 웹.
  - 트리플 그래프: RDF를 기반으로 데이터 저장.
  - 추가로 찾아본 자료
    - GPT 정리: https://chatgpt.com/share/deea1174-7a4f-45a8-96b1-54e6f16bb81c
    - https://ko.wikipedia.org/wiki/%EC%8B%9C%EB%A7%A8%ED%8B%B1_%EC%9B%B9
    - https://ko.wikipedia.org/wiki/%EC%9E%90%EC%9B%90_%EA%B8%B0%EC%88%A0_%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC